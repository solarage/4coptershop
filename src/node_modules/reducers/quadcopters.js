import { itemsByProp, addPropToObj } from 'helpers/helpers';

import {
    FETCH_QUADCOPTERS_SUCCESS,
    LOAD_MORE_QUADCOPTERS_SUCCESS,
    FETCH_QUADCOPTER_BY_ID_SUCCESS
} from 'actionTypes';

const initialState = {};

const quadcopters = (state = initialState, action) => {
    switch (action.type) {
        case FETCH_QUADCOPTERS_SUCCESS:
            const newValues = itemsByProp('id', action.payload);
            return {
                ...state, ...newValues
            }
    
        case LOAD_MORE_QUADCOPTERS_SUCCESS:
            const moreValues = itemsByProp('id', action.payload);
            return {
                ...state, ...moreValues
            }

        case FETCH_QUADCOPTER_BY_ID_SUCCESS:
            const newValuesById = addPropToObj(action.payload.id, action.payload);
            return {
                ...state, ...newValuesById
            }

        default:
            return state
    }
}

export default quadcopters;